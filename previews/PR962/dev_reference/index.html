<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Developer reference · Revise.jl</title><meta name="title" content="Developer reference · Revise.jl"/><meta property="og:title" content="Developer reference · Revise.jl"/><meta property="twitter:title" content="Developer reference · Revise.jl"/><meta name="description" content="Documentation for Revise.jl."/><meta property="og:description" content="Documentation for Revise.jl."/><meta property="twitter:description" content="Documentation for Revise.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="Revise.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">Revise.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../config/">Configuration</a></li><li><a class="tocitem" href="../cookbook/">Revise usage: a cookbook</a></li><li><a class="tocitem" href="../limitations/">Limitations</a></li><li><a class="tocitem" href="../tricks/">Tricks</a></li><li><a class="tocitem" href="../debugging/">Debugging Revise</a></li><li><a class="tocitem" href="../internals/">How Revise works</a></li><li><a class="tocitem" href="../user_reference/">User reference</a></li><li class="is-active"><a class="tocitem" href>Developer reference</a><ul class="internal"><li><a class="tocitem" href="#Internal-global-variables"><span>Internal global variables</span></a></li><li><a class="tocitem" href="#Types"><span>Types</span></a></li><li><a class="tocitem" href="#Function-reference"><span>Function reference</span></a></li><li><a class="tocitem" href="#Extension-system"><span>Extension system</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Developer reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Developer reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/timholy/Revise.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/timholy/Revise.jl/blob/master/docs/src/dev_reference.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Developer-reference"><a class="docs-heading-anchor" href="#Developer-reference">Developer reference</a><a id="Developer-reference-1"></a><a class="docs-heading-anchor-permalink" href="#Developer-reference" title="Permalink"></a></h1><h2 id="Internal-global-variables"><a class="docs-heading-anchor" href="#Internal-global-variables">Internal global variables</a><a id="Internal-global-variables-1"></a><a class="docs-heading-anchor-permalink" href="#Internal-global-variables" title="Permalink"></a></h2><h3 id="Configuration-related-variables"><a class="docs-heading-anchor" href="#Configuration-related-variables">Configuration-related variables</a><a id="Configuration-related-variables-1"></a><a class="docs-heading-anchor-permalink" href="#Configuration-related-variables" title="Permalink"></a></h3><p>These are set during execution of Revise&#39;s <code>__init__</code> function.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.active" href="#Revise.active"><code>Revise.active</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Revise.active[]</code></pre><p>If <code>false</code>, Revise will stop updating code.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/packagedef.jl#L45-L49">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.watching_files" href="#Revise.watching_files"><code>Revise.watching_files</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Revise.watching_files[]</code></pre><p>Returns <code>true</code> if we watch files rather than their containing directory. FreeBSD and NFS-mounted systems should watch files, otherwise we prefer to watch directories.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/packagedef.jl#L52-L58">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.polling_files" href="#Revise.polling_files"><code>Revise.polling_files</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Revise.polling_files[]</code></pre><p>Returns <code>true</code> if we should poll the filesystem for changes to the files that define loaded code. It is preferable to avoid polling, instead relying on operating system notifications via <code>FileWatching.watch_file</code>. However, NFS-mounted filesystems (and perhaps others) do not support file-watching, so for code stored on such filesystems you should turn polling on.</p><p>See the documentation for the <code>JULIA_REVISE_POLL</code> environment variable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/packagedef.jl#L61-L71">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.tracking_Main_includes" href="#Revise.tracking_Main_includes"><code>Revise.tracking_Main_includes</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Revise.tracking_Main_includes[]</code></pre><p>Returns <code>true</code> if files directly included from the REPL should be tracked. The default is <code>false</code>. See the documentation regarding the <code>JULIA_REVISE_INCLUDE</code> environment variable to customize it.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/packagedef.jl#L89-L95">source</a></section></article><h3 id="Path-related-variables"><a class="docs-heading-anchor" href="#Path-related-variables">Path-related variables</a><a id="Path-related-variables-1"></a><a class="docs-heading-anchor-permalink" href="#Path-related-variables" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.juliadir" href="#Revise.juliadir"><code>Revise.juliadir</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Revise.juliadir</code></pre><p>Constant specifying full path to julia top-level source directory. This should be reliable even for local builds, cross-builds, and binary installs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/packagedef.jl#L243-L248">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.expected_juliadir" href="#Revise.expected_juliadir"><code>Revise.expected_juliadir</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">expected_juliadir()</code></pre><p>This is the path where we ordinarily expect to find a copy of the julia source files, as well as the source cache. For <code>juliadir</code> we additionally search some fallback locations to handle various corrupt and incomplete installations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/packagedef.jl#L180-L186">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.basesrccache" href="#Revise.basesrccache"><code>Revise.basesrccache</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Revise.basesrccache</code></pre><p>Full path to the running Julia&#39;s cache of source code defining <code>Base</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/packagedef.jl#L189-L193">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.basebuilddir" href="#Revise.basebuilddir"><code>Revise.basebuilddir</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Revise.basebuilddir</code></pre><p>Julia&#39;s top-level directory when Julia was built, as recorded by the entries in <code>Base._included_files</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/packagedef.jl#L196-L201">source</a></section></article><h3 id="Internal-state-management"><a class="docs-heading-anchor" href="#Internal-state-management">Internal state management</a><a id="Internal-state-management-1"></a><a class="docs-heading-anchor-permalink" href="#Internal-state-management" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.pkgdatas" href="#Revise.pkgdatas"><code>Revise.pkgdatas</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Revise.pkgdatas</code></pre><p><code>pkgdatas</code> is the core information that tracks the relationship between source code and julia objects, and allows re-evaluation of code in the proper module scope. It is a dictionary indexed by PkgId: <code>pkgdatas[id]</code> returns a value of type <a href="#Revise.PkgData"><code>Revise.PkgData</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/packagedef.jl#L159-L166">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.watched_files" href="#Revise.watched_files"><code>Revise.watched_files</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Revise.watched_files</code></pre><p>Global variable, <code>watched_files[dirname]</code> returns the collection of files in <code>dirname</code> that we&#39;re monitoring for changes. The returned value has type <a href="#Revise.WatchList"><code>Revise.WatchList</code></a>.</p><p>This variable allows us to watch directories rather than files, reducing the burden on the OS.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/packagedef.jl#L112-L120">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.revision_queue" href="#Revise.revision_queue"><code>Revise.revision_queue</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Revise.revision_queue</code></pre><p>Global variable, <code>revision_queue</code> holds <code>(pkgdata,filename)</code> pairs that we need to revise, meaning that these files have changed since we last processed a revision. This list gets populated by callbacks that watch directories for updates.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/packagedef.jl#L132-L138">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.NOPACKAGE" href="#Revise.NOPACKAGE"><code>Revise.NOPACKAGE</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Revise.NOPACKAGE</code></pre><p>Global variable; default <code>PkgId</code> used for files which do not belong to any package, but still have to be watched because user callbacks have been registered for them.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/packagedef.jl#L150-L156">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.queue_errors" href="#Revise.queue_errors"><code>Revise.queue_errors</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Revise.queue_errors</code></pre><p>Global variable, maps <code>(pkgdata, filename)</code> pairs that errored upon last revision to <code>(exception, backtrace)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/packagedef.jl#L142-L147">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.included_files" href="#Revise.included_files"><code>Revise.included_files</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Revise.included_files</code></pre><p>Global variable, <code>included_files</code> gets populated by callbacks we register with <code>include</code>. It&#39;s used to track non-precompiled packages and, optionally, user scripts (see docs on <code>JULIA_REVISE_INCLUDE</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/packagedef.jl#L170-L176">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.watched_manifests" href="#Revise.watched_manifests"><code>Revise.watched_manifests</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Revise.watched_manifests</code></pre><p>Global variable, a set of <code>Manifest.toml</code> files from the active projects used during this session.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/packagedef.jl#L124-L128">source</a></section></article><p>The following are specific to user callbacks (see <a href="#Revise.add_callback"><code>Revise.add_callback</code></a>) and the implementation of <a href="../user_reference/#Revise.entr"><code>entr</code></a>:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.revision_event" href="#Revise.revision_event"><code>Revise.revision_event</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Revise.revision_event</code></pre><p>This <code>Condition</code> is used to notify <code>entr</code> that one of the watched files has changed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/callbacks.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.user_callbacks_queue" href="#Revise.user_callbacks_queue"><code>Revise.user_callbacks_queue</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Revise.user_callbacks_queue</code></pre><p>Global variable, <code>user_callbacks_queue</code> holds <code>key</code> values for which the file has changed but the user hooks have not yet been called.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/callbacks.jl#L10-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.user_callbacks_by_file" href="#Revise.user_callbacks_by_file"><code>Revise.user_callbacks_by_file</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Revise.user_callbacks_by_file</code></pre><p>Global variable, maps files (identified by their absolute path) to the set of callback keys registered for them.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/callbacks.jl#L18-L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.user_callbacks_by_key" href="#Revise.user_callbacks_by_key"><code>Revise.user_callbacks_by_key</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Revise.user_callbacks_by_key</code></pre><p>Global variable, maps callback keys to user hooks.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/callbacks.jl#L26-L30">source</a></section></article><h2 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.RelocatableExpr" href="#Revise.RelocatableExpr"><code>Revise.RelocatableExpr</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A <code>RelocatableExpr</code> wraps an <code>Expr</code> to ensure that comparisons between <code>RelocatableExpr</code>s ignore line numbering information. This allows one to detect that two expressions are the same no matter where they appear in a file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/relocatable_exprs.jl#L10-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.ModuleExprsSigs" href="#Revise.ModuleExprsSigs"><code>Revise.ModuleExprsSigs</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ModuleExprsSigs</code></pre><p>For a particular source file, the corresponding <code>ModuleExprsSigs</code> is a mapping <code>mod=&gt;exprs=&gt;mt_sigs</code> of the expressions <code>exprs</code> found in <code>mod</code> and the method table/signature pairs <code>mt_sigs</code> that arise from them. Specifically, if <code>mes</code> is a <code>ModuleExprsSigs</code>, then <code>mes[mod][ex]</code> is a list of method table/signature pairs that result from evaluating <code>ex</code> in <code>mod</code>. It is possible that this returns <code>nothing</code>, which can mean either that <code>ex</code> does not define any methods or that the method table/signature pairs have not yet been cached.</p><p>The first <code>mod</code> key is guaranteed to be the module into which this file was <code>include</code>d.</p><p>To create a <code>ModuleExprsSigs</code> from a source file, see <a href="#Revise.parse_source"><code>Revise.parse_source</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/types.jl#L165-L178">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.FileInfo" href="#Revise.FileInfo"><code>Revise.FileInfo</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FileInfo(mexs::ModuleExprsSigs, cachefile=&quot;&quot;)</code></pre><p>Structure to hold the per-module expressions found when parsing a single file. <code>mexs</code> holds the <a href="#Revise.ModuleExprsSigs"><code>Revise.ModuleExprsSigs</code></a> for the file.</p><p>Optionally, a <code>FileInfo</code> can also record the path to a cache file holding the original source code. This is applicable only for precompiled modules and <code>Base</code>. (This cache file is distinct from the original source file that might be edited by the developer, and it will always hold the state of the code when the package was precompiled or Julia&#39;s <code>Base</code> was built.) When a cache is available, <code>mexs</code> will be empty until the file gets edited: the original source code gets parsed only when a revision needs to be made.</p><p>Source cache files greatly reduce the overhead of using Revise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/types.jl#L195-L211">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.PkgData" href="#Revise.PkgData"><code>Revise.PkgData</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PkgData(id, path, fileinfos::Dict{String,FileInfo})</code></pre><p>A structure holding the data required to handle a particular package. <code>path</code> is the top-level directory defining the package, and <code>fileinfos</code> holds the <a href="#Revise.FileInfo"><code>Revise.FileInfo</code></a> for each file defining the package.</p><p>For the <code>PkgData</code> associated with <code>Main</code> (e.g., for files loaded with <a href="../user_reference/#Revise.includet"><code>includet</code></a>), the corresponding <code>path</code> entry will be empty.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/types.jl#L244-L253">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.WatchList" href="#Revise.WatchList"><code>Revise.WatchList</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Revise.WatchList</code></pre><p>A struct for holding files that live inside a directory. Some platforms (OSX) have trouble watching too many files. So we watch parent directories, and keep track of which files in them should be tracked.</p><p>Fields:</p><ul><li><code>timestamp</code>: mtime of last update</li><li><code>trackedfiles</code>: Set of filenames, generally expressed as a relative path</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/types.jl#L1-L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.TaskThunk" href="#Revise.TaskThunk"><code>Revise.TaskThunk</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">thunk = TaskThunk(f, args)</code></pre><p>To facilitate precompilation and reduce latency, we avoid creation of anonymous thunks. <code>thunk</code> can be used as an argument in <code>schedule(Task(thunk))</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/types.jl#L388-L393">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.ReviseEvalException" href="#Revise.ReviseEvalException"><code>Revise.ReviseEvalException</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ReviseEvalException(loc::String, exc::Exception, stacktrace=nothing)</code></pre><p>Provide additional location information about <code>exc</code>.</p><p>When running via the interpreter, the backtraces point to interpreter code rather than the original culprit. This makes it possible to use <code>loc</code> to provide information about the frame backtrace, and even to supply a fake backtrace.</p><p>If <code>stacktrace</code> is supplied it must be a <code>Vector{Any}</code> containing <code>(::StackFrame, n)</code> pairs where <code>n</code> is the recursion count (typically 1).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/types.jl#L342-L353">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.MethodSummary" href="#Revise.MethodSummary"><code>Revise.MethodSummary</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MethodSummary(method)</code></pre><p>Create a portable summary of a method. In particular, a MethodSummary can be saved to a JLD2 file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/logging.jl#L160-L164">source</a></section></article><h2 id="Function-reference"><a class="docs-heading-anchor" href="#Function-reference">Function reference</a><a id="Function-reference-1"></a><a class="docs-heading-anchor-permalink" href="#Function-reference" title="Permalink"></a></h2><h3 id="Functions-called-when-you-load-a-new-package"><a class="docs-heading-anchor" href="#Functions-called-when-you-load-a-new-package">Functions called when you load a new package</a><a id="Functions-called-when-you-load-a-new-package-1"></a><a class="docs-heading-anchor-permalink" href="#Functions-called-when-you-load-a-new-package" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.watch_package" href="#Revise.watch_package"><code>Revise.watch_package</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">watch_package(id::Base.PkgId)</code></pre><p>Start watching a package for changes to the files that define it. This function gets called via a callback registered with <code>Base.require</code>, at the completion of module-loading by <code>using</code> or <code>import</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/pkgs.jl#L310-L316">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.parse_pkg_files" href="#Revise.parse_pkg_files"><code>Revise.parse_pkg_files</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">parse_pkg_files(id::PkgId)</code></pre><p>This function gets called by <code>watch_package</code> and runs when a package is first loaded. Its job is to organize the files and expressions defining the module so that later we can detect and process revisions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/loading.jl#L33-L39">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.init_watching" href="#Revise.init_watching"><code>Revise.init_watching</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Revise.init_watching(files)
Revise.init_watching(pkgdata::PkgData, files)</code></pre><p>For every filename in <code>files</code>, monitor the filesystem for updates. When the file is updated, either <a href="#Revise.revise_dir_queued"><code>Revise.revise_dir_queued</code></a> or <a href="#Revise.revise_file_queued"><code>Revise.revise_file_queued</code></a> will be called.</p><p>Use the <code>pkgdata</code> version if the files are supplied using relative paths.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/packagedef.jl#L523-L532">source</a></section></article><h3 id="Monitoring-for-changes"><a class="docs-heading-anchor" href="#Monitoring-for-changes">Monitoring for changes</a><a id="Monitoring-for-changes-1"></a><a class="docs-heading-anchor-permalink" href="#Monitoring-for-changes" title="Permalink"></a></h3><p>These functions get called on each directory or file that you monitor for revisions. These block execution until the file(s) are updated, so you should only call them from within an <code>@async</code> block. They work recursively: once an update has been detected and execution resumes, they schedule a revision (see <a href="#Revise.revision_queue"><code>Revise.revision_queue</code></a>) and then call themselves on the same directory or file to wait for the next set of changes.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.revise_dir_queued" href="#Revise.revise_dir_queued"><code>Revise.revise_dir_queued</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">revise_dir_queued(dirname::AbstractString)</code></pre><p>Wait for one or more of the files registered in <code>Revise.watched_files[dirname]</code> to be modified, and then queue the corresponding files on <a href="#Revise.revision_queue"><code>Revise.revision_queue</code></a>. This is generally called via a <a href="#Revise.TaskThunk"><code>Revise.TaskThunk</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/packagedef.jl#L569-L575">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.revise_file_queued" href="#Revise.revise_file_queued"><code>Revise.revise_file_queued</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">revise_file_queued(pkgdata::PkgData, filename)</code></pre><p>Wait for modifications to <code>filename</code>, and then queue the corresponding files on <a href="#Revise.revision_queue"><code>Revise.revision_queue</code></a>. This is generally called via a <a href="#Revise.TaskThunk"><code>Revise.TaskThunk</code></a>.</p><p>This is used only on platforms (like BSD) which cannot use <a href="#Revise.revise_dir_queued"><code>Revise.revise_dir_queued</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/packagedef.jl#L612-L619">source</a></section></article><p>The following functions support user callbacks, and are used in the implementation of <code>entr</code> but can be used more broadly:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.add_callback" href="#Revise.add_callback"><code>Revise.add_callback</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">key = Revise.add_callback(f, files, modules=nothing; key=gensym())</code></pre><p>Add a user-specified callback, to be executed during the first run of <code>revise()</code> after a file in <code>files</code> or a module in <code>modules</code> is changed on the file system. If <code>all</code> is set to <code>true</code>, also execute the callback whenever any file already monitored by Revise changes. In an interactive session like the REPL, Juno or Jupyter, this means the callback executes immediately before executing a new command / cell.</p><p>You can use the return value <code>key</code> to remove the callback later (<code>Revise.remove_callback</code>) or to update it using another call to <code>Revise.add_callback</code> with <code>key=key</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/callbacks.jl#L33-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.remove_callback" href="#Revise.remove_callback"><code>Revise.remove_callback</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Revise.remove_callback(key)</code></pre><p>Remove a callback previously installed by a call to <code>Revise.add_callback(...)</code>. See its docstring for details.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/callbacks.jl#L86-L91">source</a></section></article><h3 id="Evaluating-changes-(revising)-and-computing-diffs"><a class="docs-heading-anchor" href="#Evaluating-changes-(revising)-and-computing-diffs">Evaluating changes (revising) and computing diffs</a><a id="Evaluating-changes-(revising)-and-computing-diffs-1"></a><a class="docs-heading-anchor-permalink" href="#Evaluating-changes-(revising)-and-computing-diffs" title="Permalink"></a></h3><p><a href="../user_reference/#Revise.revise"><code>revise</code></a> is the primary entry point for implementing changes. Additionally,</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.revise_file_now" href="#Revise.revise_file_now"><code>Revise.revise_file_now</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Revise.revise_file_now(pkgdata::PkgData, file)</code></pre><p>Process revisions to <code>file</code>. This parses <code>file</code> and computes an expression-level diff between the current state of the file and its most recently evaluated state. It then deletes any removed methods and re-evaluates any changed expressions. Note that generally it is better to use <a href="../user_reference/#Revise.revise"><code>revise</code></a> as it properly handles methods that move from one file to another.</p><p><code>id</code> must be a key in <a href="#Revise.pkgdatas"><code>Revise.pkgdatas</code></a>, and <code>file</code> a key in <code>Revise.pkgdatas[id].fileinfos</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/packagedef.jl#L695-L706">source</a></section></article><h3 id="Caching-the-definition-of-methods"><a class="docs-heading-anchor" href="#Caching-the-definition-of-methods">Caching the definition of methods</a><a id="Caching-the-definition-of-methods-1"></a><a class="docs-heading-anchor-permalink" href="#Caching-the-definition-of-methods" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.get_def" href="#Revise.get_def"><code>Revise.get_def</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">success = get_def(method::Method)</code></pre><p>As needed, load the source file necessary for extracting the code defining <code>method</code>. The source-file defining <code>method</code> must be tracked. If it is in Base, this will execute <code>track(Base)</code> if necessary.</p><p>This is a callback function used by <code>CodeTracking.jl</code>&#39;s <code>definition</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/packagedef.jl#L1092-L1100">source</a></section></article><h3 id="Parsing-source-code"><a class="docs-heading-anchor" href="#Parsing-source-code">Parsing source code</a><a id="Parsing-source-code-1"></a><a class="docs-heading-anchor-permalink" href="#Parsing-source-code" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.parse_source" href="#Revise.parse_source"><code>Revise.parse_source</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mexs = parse_source(filename::AbstractString, mod::Module)</code></pre><p>Parse the source <code>filename</code>, returning a <a href="#Revise.ModuleExprsSigs"><code>ModuleExprsSigs</code></a> <code>mexs</code>. <code>mod</code> is the &quot;parent&quot; module for the file (i.e., the one that <code>include</code>d the file); if <code>filename</code> defines more module(s) then these will all have separate entries in <code>mexs</code>.</p><p>If parsing <code>filename</code> fails, <code>nothing</code> is returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/parsing.jl#L3-L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.parse_source!" href="#Revise.parse_source!"><code>Revise.parse_source!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">parse_source!(mexs::ModuleExprsSigs, filename, mod::Module)</code></pre><p>Top-level parsing of <code>filename</code> as included into module <code>mod</code>. Successfully-parsed expressions will be added to <code>mexs</code>. Returns <code>mexs</code> if parsing finished successfully, otherwise <code>nothing</code> is returned.</p><p>See also <a href="#Revise.parse_source"><code>Revise.parse_source</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/parsing.jl#L15-L23">source</a></section></article><h3 id="Lowered-source-code"><a class="docs-heading-anchor" href="#Lowered-source-code">Lowered source code</a><a id="Lowered-source-code-1"></a><a class="docs-heading-anchor-permalink" href="#Lowered-source-code" title="Permalink"></a></h3><p>Much of the &quot;brains&quot; of Revise comes from doing analysis on lowered code. This part of the package is not as well documented.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.minimal_evaluation!" href="#Revise.minimal_evaluation!"><code>Revise.minimal_evaluation!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">isrequired, evalassign = minimal_evaluation!([predicate,] src::Core.CodeInfo, mode::Symbol)</code></pre><p>Mark required statements in <code>src</code>: <code>isrequired[i]</code> is <code>true</code> if <code>src.code[i]</code> should be evaluated. Statements are analyzed by <code>isreq, haseval = predicate(stmt)</code>, and <code>predicate</code> defaults to <code>Revise.is_method_or_eval</code>. <code>haseval</code> is true if the statement came from <code>@eval</code> or <code>eval(...)</code> call. Since the contents of such expression are difficult to analyze, it is generally safest to execute all such evals.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/lowered.jl#L110-L119">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.methods_by_execution!" href="#Revise.methods_by_execution!"><code>Revise.methods_by_execution!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">methods_by_execution!([interp::Interpreter=JuliaInterpreter.Compiled(),] methodinfo, mod::Module, ex::Expr;
                      mode=:eval, disablebp=true, skip_include=mode!==:eval, always_rethrow=false)</code></pre><p>Evaluate or analyze <code>ex</code> in the context of <code>mod</code>. Depending on the setting of <code>mode</code> (see the Extended help), it supports full evaluation or just the minimal evaluation needed to extract method signatures. <code>interp</code> controls JuliaInterpreter&#39;s evaluation of any non-intercepted statement; likely choices are <code>JuliaInterpreter.Compiled()</code> or <code>JuliaInterpreter.RecursiveInterpreter()</code>. <code>methodinfo</code> is a cache for storing information about any method definitions (see <a href="#Revise.CodeTrackingMethodInfo"><code>CodeTrackingMethodInfo</code></a>).</p><p><strong>Extended help</strong></p><p>The action depends on <code>mode</code>:</p><ul><li><code>:eval</code> evaluates the expression in <code>mod</code>, similar to <code>Core.eval(mod, ex)</code> except that <code>methodinfo</code> will be populated with information about any signatures. This mode is used to implement <code>includet</code>.</li><li><code>:sigs</code> analyzes <code>ex</code> and extracts signatures of methods (specifically, statements flagged by <a href="#Revise.minimal_evaluation!"><code>Revise.minimal_evaluation!</code></a>), but does not evaluate <code>ex</code> in the traditional sense. It will selectively execute statements needed to form the signatures of defined methods. It will also expand any <code>@eval</code>ed expressions, since these might contain method definitions.</li><li><code>:evalmeth</code> analyzes <code>ex</code> and extracts signatures like <code>:sigs</code>, but takes the additional step of evaluating any <code>:method</code> statements.</li><li><code>:evalassign</code> acts similarly to <code>:evalmeth</code>, and also evaluates assignment statements.</li></ul><p>When selectively evaluating an expression, Revise will incorporate required dependencies, even for minimal-evaluation modes like <code>:sigs</code>. For example, the method definition</p><pre><code class="language-julia hljs">max_values(T::Union{map(X -&gt; Type{X}, Base.BitIntegerSmall_types)...}) = 1 &lt;&lt; (8*sizeof(T))</code></pre><p>found in <code>base/abstractset.jl</code> requires that it create the anonymous function in order to compute the signature.</p><p>The other keyword arguments are more straightforward:</p><ul><li><code>disablebp</code> controls whether JuliaInterpreter&#39;s breakpoints are disabled before stepping through the code. They are restored on exit.</li><li><code>skip_include</code> prevents execution of <code>include</code> statements, instead inserting them into <code>methodinfo</code>&#39;s cache. This defaults to <code>true</code> unless <code>mode</code> is <code>:eval</code>.</li><li><code>always_rethrow</code>, if true, causes an error to be thrown if evaluating <code>ex</code> triggered an error. If false, the error is logged with <code>@error</code>. <code>InterruptException</code>s are always rethrown. This is primarily useful for debugging.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/lowered.jl#L197-L239">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.CodeTrackingMethodInfo" href="#Revise.CodeTrackingMethodInfo"><code>Revise.CodeTrackingMethodInfo</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CodeTrackingMethodInfo(ex::Expr)</code></pre><p>Create a cache for storing information about method definitions. Adding signatures to such an object inserts them into <code>CodeTracking.method_info</code>, which maps signature Tuple-types to <code>(lnn::LineNumberNode, ex::Expr)</code> pairs. Because method signatures are unique within a module, this is the foundation for identifying methods in a manner independent of source-code location.</p><p>It also has the following fields:</p><ul><li><code>exprstack</code>: used when descending into <code>@eval</code> statements (via <code>push_expr</code> and <code>pop_expr!</code>) <code>ex</code> (used in creating the <code>CodeTrackingMethodInfo</code> object) is the first entry in the stack.</li><li><code>allsigs</code>: a list of all method signatures defined by a given expression</li><li><code>includes</code>: a list of <code>module=&gt;filename</code> for any <code>include</code> statements encountered while the expression was parsed.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/packagedef.jl#L453-L469">source</a></section></article><h3 id="Modules-and-paths"><a class="docs-heading-anchor" href="#Modules-and-paths">Modules and paths</a><a id="Modules-and-paths-1"></a><a class="docs-heading-anchor-permalink" href="#Modules-and-paths" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.modulefiles" href="#Revise.modulefiles"><code>Revise.modulefiles</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">parentfile, included_files = modulefiles(mod::Module)</code></pre><p>Return the <code>parentfile</code> in which <code>mod</code> was defined, as well as a list of any other files that were <code>include</code>d to define <code>mod</code>. If this operation is unsuccessful, <code>(nothing, nothing)</code> is returned.</p><p>All files are returned as absolute paths.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/loading.jl#L77-L85">source</a></section></article><h3 id="Handling-errors"><a class="docs-heading-anchor" href="#Handling-errors">Handling errors</a><a id="Handling-errors-1"></a><a class="docs-heading-anchor-permalink" href="#Handling-errors" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.trim_toplevel!" href="#Revise.trim_toplevel!"><code>Revise.trim_toplevel!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">trim_toplevel!(bt)</code></pre><p>Truncate a list of instruction pointers, as obtained from <code>backtrace()</code> or <code>catch_backtrace()</code>, at the first &quot;top-level&quot; call (e.g., as executed from the REPL prompt) or the first entry corresponding to a method in Revise or its dependencies.</p><p>This is used to make stacktraces obtained with Revise more similar to those obtained without Revise, while retaining one entry to reveal Revise&#39;s involvement.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/utils.jl#L189-L198">source</a></section></article><p>In current releases of Julia, hitting Ctrl-C from the REPL can stop tasks running in the background. This risks stopping Revise&#39;s ability to watch for changes in files and directories. Revise has a work-around for this problem.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.throwto_repl" href="#Revise.throwto_repl"><code>Revise.throwto_repl</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">success = throwto_repl(e::Exception)</code></pre><p>Try throwing <code>e</code> from the REPL&#39;s backend task. Returns <code>true</code> if the necessary conditions were met and the throw can be expected to succeed. The throw is generated from another task, so a <code>yield</code> will need to occur before it happens.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/utils.jl#L139-L145">source</a></section></article><h3 id="Git-integration"><a class="docs-heading-anchor" href="#Git-integration">Git integration</a><a id="Git-integration-1"></a><a class="docs-heading-anchor-permalink" href="#Git-integration" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.git_source" href="#Revise.git_source"><code>Revise.git_source</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Revise.git_source(file::AbstractString, reference)</code></pre><p>Read the source-text for <code>file</code> from a git commit <code>reference</code>. The reference may be a string, Symbol, or <code>LibGit2.Tree</code>.</p><p><strong>Example:</strong></p><pre><code class="language-julia hljs">Revise.git_source(&quot;/path/to/myfile.jl&quot;, &quot;HEAD&quot;)
Revise.git_source(&quot;/path/to/myfile.jl&quot;, :abcd1234)  # by commit SHA</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/git.jl#L54-L64">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.git_files" href="#Revise.git_files"><code>Revise.git_files</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">files = git_files(repo)</code></pre><p>Return the list of files checked into <code>repo</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/git.jl#L36-L40">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.git_repo" href="#Revise.git_repo"><code>Revise.git_repo</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">repo, repo_path = git_repo(path::AbstractString)</code></pre><p>Return the <code>repo::LibGit2.GitRepo</code> containing the file or directory <code>path</code>. <code>path</code> does not necessarily need to be the top-level directory of the repository. Also returns the <code>repo_path</code> of the top-level directory for the repository.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/git.jl#L1-L8">source</a></section></article><h3 id="Distributed-computing"><a class="docs-heading-anchor" href="#Distributed-computing">Distributed computing</a><a id="Distributed-computing-1"></a><a class="docs-heading-anchor-permalink" href="#Distributed-computing" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.init_worker" href="#Revise.init_worker"><code>Revise.init_worker</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Revise.init_worker(p)</code></pre><p>Define methods on worker <code>p</code> that Revise needs in order to perform revisions on <code>p</code>. Revise itself does not need to be running on <code>p</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/packagedef.jl#L1302-L1307">source</a></section></article><h2 id="Extension-system"><a class="docs-heading-anchor" href="#Extension-system">Extension system</a><a id="Extension-system-1"></a><a class="docs-heading-anchor-permalink" href="#Extension-system" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.SigInfo" href="#Revise.SigInfo"><code>Revise.SigInfo</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SigInfo</code></pre><p>Data structure used as a leaf node of the <code>pkgdatas</code> data structure, which can hold additional extension data.</p><p>Fields:</p><ul><li><code>mt::Union{Nothing,MethodTable}</code>: Method table (or <code>nothing</code>)</li><li><code>sig::Type</code>: Signature type</li><li><code>ext::ExtendedData</code>: Extension data (for external tools like JET), stored as a linked list of <a href="#Revise.ExtendedData"><code>ExtendedData</code></a></li></ul><p>This is a Revise-internal data structure; when interacting with CodeTracking, use <code>MethodInfoKey(::SigInfo)</code> to convert to <code>MethodInfoKey</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/types.jl#L44-L58">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.ExtendedData" href="#Revise.ExtendedData"><code>Revise.ExtendedData</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ExtendedData</code></pre><p>Linked list structure for storing extension data from multiple tools. Each node contains:</p><ul><li><code>owner::Symbol</code>: The extension that owns this data (e.g., <code>:jet</code>, <code>:coverage</code>)</li><li><code>data</code>: The extension-specific data (untyped for flexibility)</li><li><code>next::Union{ExtendedData,Nothing}</code>: Link to the next extension&#39;s data</li></ul><p>The linked list allows multiple extensions to attach data to the same signature without interfering with each other.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/types.jl#L20-L31">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.get_extended_data" href="#Revise.get_extended_data"><code>Revise.get_extended_data</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_extended_data(ext::ExtendedData, owner::Symbol) -&gt; ext::Union{ExtendedData,Nothing}</code></pre><p>Retrieve extension data for a specific owner from the linked list. Returns <code>nothing</code> if no data is found for the given owner.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/types.jl#L83-L88">source</a></section><section><div><pre><code class="language-julia hljs">get_extended_data(siginfo::SigInfo, owner::Symbol) -&gt; ext::Union{ExtendedData,Nothing}</code></pre><p>Retrieve extension data for a specific owner from the <code>SigInfo</code>&#39;s extension data. Returns <code>nothing</code> if no data is found for the given owner.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/types.jl#L98-L103">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Revise.replace_extended_data" href="#Revise.replace_extended_data"><code>Revise.replace_extended_data</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">replace_extended_data(ext::ExtendedData, owner::Symbol, @nospecialize(data)) -&gt; new_ext::ExtendedData</code></pre><p>Replace extension data for a specific owner, or add it if not present. Returns a new <code>ExtendedData</code> linked list with the updated data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/types.jl#L106-L111">source</a></section><section><div><pre><code class="language-julia hljs">replace_extended_data(siginfo::SigInfo, owner::Symbol, @nospecialize(data)) -&gt; new_siginfo::SigInfo</code></pre><p>Replace extension data for a specific owner in a <code>SigInfo</code>, or add it if not present. Returns a new <code>SigInfo</code> with the updated extension data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/236b05d0eabadd977a84df761499ea1761a34303/src/types.jl#L132-L137">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../user_reference/">« User reference</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Tuesday 21 October 2025 07:50">Tuesday 21 October 2025</span>. Using Julia version 1.12.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
