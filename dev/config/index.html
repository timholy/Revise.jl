<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Configuration · Revise.jl</title><meta name="title" content="Configuration · Revise.jl"/><meta property="og:title" content="Configuration · Revise.jl"/><meta property="twitter:title" content="Configuration · Revise.jl"/><meta name="description" content="Documentation for Revise.jl."/><meta property="og:description" content="Documentation for Revise.jl."/><meta property="twitter:description" content="Documentation for Revise.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="Revise.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">Revise.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Configuration</a><ul class="internal"><li><a class="tocitem" href="#Using-Revise-by-default"><span>Using Revise by default</span></a></li><li><a class="tocitem" href="#edcfg"><span>Editor configuration</span></a></li><li><a class="tocitem" href="#Configuring-the-revise-mode"><span>Configuring the revise mode</span></a></li><li><a class="tocitem" href="#Optional-global-configuration"><span>Optional global configuration</span></a></li><li><a class="tocitem" href="#Configurations-for-fixing-errors"><span>Configurations for fixing errors</span></a></li></ul></li><li><a class="tocitem" href="../cookbook/">Revise usage: a cookbook</a></li><li><a class="tocitem" href="../limitations/">Limitations</a></li><li><a class="tocitem" href="../tricks/">Tricks</a></li><li><a class="tocitem" href="../debugging/">Debugging Revise</a></li><li><a class="tocitem" href="../internals/">How Revise works</a></li><li><a class="tocitem" href="../user_reference/">User reference</a></li><li><a class="tocitem" href="../dev_reference/">Developer reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Configuration</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Configuration</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/timholy/Revise.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/timholy/Revise.jl/blob/master/docs/src/config.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Configuration"><a class="docs-heading-anchor" href="#Configuration">Configuration</a><a id="Configuration-1"></a><a class="docs-heading-anchor-permalink" href="#Configuration" title="Permalink"></a></h1><div class="admonition is-compat"><header class="admonition-header">Compat</header><div class="admonition-body"><p>These instructions are applicable only for Julia 1.5 and higher. If you are running an older version of Julia, upgrading to at least 1.6 is recommended. If you cannot upgrade, see the documentation for Revise 3.2.x or earlier.</p></div></div><h2 id="Using-Revise-by-default"><a class="docs-heading-anchor" href="#Using-Revise-by-default">Using Revise by default</a><a id="Using-Revise-by-default-1"></a><a class="docs-heading-anchor-permalink" href="#Using-Revise-by-default" title="Permalink"></a></h2><p>If you like Revise, you can ensure that every Julia session uses it by launching it from your <code>~/.julia/config/startup.jl</code> file. Note that using Revise adds a small latency at Julia startup, generally about 0.7s when you first launch Julia and another 0.25s for your first package load. Users should weigh this penalty against whatever benefit they may derive from not having to restart their entire session.</p><p>This can be as simple as adding</p><pre><code class="language-julia hljs">using Revise</code></pre><p>as the first line in your <code>startup.jl</code>. If you have a Unix terminal available, simply run</p><pre><code class="language-bash hljs">mkdir -p ~/.julia/config/ &amp;&amp; echo &quot;using Revise&quot; &gt;&gt; ~/.julia/config/startup.jl</code></pre><p>If you use different package environments and do not always have Revise available,</p><pre><code class="language-julia hljs">try
    using Revise
catch e
    @warn &quot;Error initializing Revise&quot; exception=(e, catch_backtrace())
end</code></pre><p>is recommended instead.</p><h3 id="Using-Revise-automatically-within-Jupyter/IJulia"><a class="docs-heading-anchor" href="#Using-Revise-automatically-within-Jupyter/IJulia">Using Revise automatically within Jupyter/IJulia</a><a id="Using-Revise-automatically-within-Jupyter/IJulia-1"></a><a class="docs-heading-anchor-permalink" href="#Using-Revise-automatically-within-Jupyter/IJulia" title="Permalink"></a></h3><p>If you want Revise to launch automatically within IJulia, then you should also create a <code>.julia/config/startup_ijulia.jl</code> file with the contents</p><pre><code class="language-julia hljs">try
    @eval using Revise
catch e
    @warn &quot;Error initializing Revise&quot; exception=(e, catch_backtrace())
end</code></pre><p>or simply run</p><pre><code class="language-bash hljs">mkdir -p ~/.julia/config/ &amp;&amp; tee -a  ~/.julia/config/startup_ijulia.jl &lt;&lt; END
try
    @eval using Revise
catch e
    @warn &quot;Error initializing Revise&quot; exception=(e, catch_backtrace())
end
END</code></pre><h2 id="edcfg"><a class="docs-heading-anchor" href="#edcfg">Editor configuration</a><a id="edcfg-1"></a><a class="docs-heading-anchor-permalink" href="#edcfg" title="Permalink"></a></h2><p>At present, <code>vim</code> is the only editor known to benefit from configuration: if needed, you should modify your settings file so that <code>backupcopy=yes</code>.</p><p>More generally, Revise uses file-watching, and any editor that saves files with the following sequence:</p><ol><li>rename the old version to a backup</li><li>write the new file</li></ol><p>will generate <em>two</em> triggers per save; if Revise reacts to the &quot;disappearance&quot; of the file after step 1, it may end up needlessly deleting methods, and even if they get redefined after step 2, you&#39;ll need to recompile all the code the next time you execute any dependent methods.</p><p>Your best option is to change your editor settings, if possible, to ensure that Revise is triggered only after the new file is finished writing. Either of:</p><ol><li>write the new file to a temporary name</li><li>rename the temporary to the real file name</li></ol><p>or</p><ol><li>save the old file to a backup name</li><li>write the new data to the real file name</li></ol><p>should work fine. In <code>vim</code>, <code>backupcopy=yes</code> forces the latter of these two behaviors.</p><h2 id="Configuring-the-revise-mode"><a class="docs-heading-anchor" href="#Configuring-the-revise-mode">Configuring the revise mode</a><a id="Configuring-the-revise-mode-1"></a><a class="docs-heading-anchor-permalink" href="#Configuring-the-revise-mode" title="Permalink"></a></h2><p>By default, in packages all changes are tracked, but with <code>includet</code> only method definitions are tracked. This behavior can be overridden by defining a variable <code>__revise_mode__</code> in the module(s) containing your methods and/or data. <code>__revise_mode__</code> must be a <code>Symbol</code> taking one of the following values:</p><ul><li><code>:eval</code>: evaluate everything (the default for packages)</li><li><code>:evalmeth</code>: evaluate changes to method definitions (the default for <code>includet</code>) This should work even for quite complicated method definitions, such as those that might be made within a <code>for</code>-loop and <code>@eval</code> block.</li><li><code>:evalassign</code>: evaluate method definitions and assignment statements. A top-level expression <code>a = Int[]</code> would be evaluated, but <code>push!(a, 1)</code> would not because the latter is not an assignment.</li><li><code>:sigs</code>: do not implement any changes, only scan method definitions for their signatures so that their location can be updated as changes to the file(s) are made.</li></ul><p>If you&#39;re using <code>includet</code> from the REPL, you can enter <code>__revise_mode__ = :eval</code> to set it throughout <code>Main</code>. <code>__revise_mode__</code> can be set independently in each module.</p><h2 id="Optional-global-configuration"><a class="docs-heading-anchor" href="#Optional-global-configuration">Optional global configuration</a><a id="Optional-global-configuration-1"></a><a class="docs-heading-anchor-permalink" href="#Optional-global-configuration" title="Permalink"></a></h2><p>Revise can be configured by setting environment variables. These variables have to be set before you execute <code>using Revise</code>, because these environment variables are parsed only during execution of Revise&#39;s <code>__init__</code> function.</p><p>There are several ways to set these environment variables:</p><ul><li>If you are <a href="#Using-Revise-by-default">Using Revise by default</a> then you can include statements like <code>ENV[&quot;JULIA_REVISE&quot;] = &quot;manual&quot;</code> in your <code>.julia/config/startup.jl</code> file prior to the line containing <code>using Revise</code>.</li><li>On Unix systems, you can set variables in your shell initialization script (e.g., put lines like <code>export JULIA_REVISE=manual</code> in your <a href="https://www.linuxfromscratch.org/blfs/view/svn/postlfs/profile.html"><code>.bashrc</code> file</a> if you use <code>bash</code>).</li><li>On Unix systems, you can launch Julia from the Unix prompt as <code>$ JULIA_REVISE=manual julia</code> to set options for just that session.</li></ul><p>The function of specific environment variables is described below.</p><h3 id="Manual-revision:-JULIA_REVISE"><a class="docs-heading-anchor" href="#Manual-revision:-JULIA_REVISE">Manual revision: JULIA_REVISE</a><a id="Manual-revision:-JULIA_REVISE-1"></a><a class="docs-heading-anchor-permalink" href="#Manual-revision:-JULIA_REVISE" title="Permalink"></a></h3><p>By default, Revise processes any modified source files every time you enter a command at the REPL. However, there might be times where you&#39;d prefer to exert manual control over the timing of revisions. <code>Revise</code> looks for an environment variable <code>JULIA_REVISE</code>, and if it is set to anything other than <code>&quot;auto&quot;</code> it will require that you manually call <code>revise()</code> to update code.</p><h3 id="User-scripts:-JULIA_REVISE_INCLUDE"><a class="docs-heading-anchor" href="#User-scripts:-JULIA_REVISE_INCLUDE">User scripts: JULIA_REVISE_INCLUDE</a><a id="User-scripts:-JULIA_REVISE_INCLUDE-1"></a><a class="docs-heading-anchor-permalink" href="#User-scripts:-JULIA_REVISE_INCLUDE" title="Permalink"></a></h3><p>By default, <code>Revise</code> only tracks files that have been required as a consequence of a <code>using</code> or <code>import</code> statement; files loaded by <code>include</code> are not tracked, unless you explicitly use <code>includet</code> or <code>Revise.track(filename)</code>. However, you can turn on automatic tracking by setting the environment variable <code>JULIA_REVISE_INCLUDE</code> to the string <code>&quot;1&quot;</code> (e.g., <code>JULIA_REVISE_INCLUDE=1</code> in a bash script).</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Most users should avoid setting <code>JULIA_REVISE_INCLUDE</code>. Try <code>includet</code> instead.</p></div></div><h2 id="Configurations-for-fixing-errors"><a class="docs-heading-anchor" href="#Configurations-for-fixing-errors">Configurations for fixing errors</a><a id="Configurations-for-fixing-errors-1"></a><a class="docs-heading-anchor-permalink" href="#Configurations-for-fixing-errors" title="Permalink"></a></h2><h3 id="No-space-left-on-device"><a class="docs-heading-anchor" href="#No-space-left-on-device">No space left on device</a><a id="No-space-left-on-device-1"></a><a class="docs-heading-anchor-permalink" href="#No-space-left-on-device" title="Permalink"></a></h3><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>This applies only to Linux</p></div></div><p>Revise needs to be notified by your filesystem about changes to your code, which means that the files that define your modules need to be watched for updates. Some systems impose limits on the number of files and directories that can be watched simultaneously; if such a limit is hit, on Linux this can result in Revise silently ceasing to work (albeit with unit tests failing) or in a fairly cryptic error like</p><pre><code class="language-sh hljs">ERROR: start_watching (File Monitor): no space left on device (ENOSPC)</code></pre><p>The cure is to investigate and possibly increase the number of files that can be watched.</p><p>Invoking</p><pre><code class="language-sh hljs">$ sysctl fs.inotify</code></pre><p>at the linux prompt may e.g. result in</p><pre><code class="nohighlight hljs">fs.inotify.max_queued_events = 16384
fs.inotify.max_user_instances = 128
fs.inotify.max_user_watches = 524288</code></pre><p>For Revise usage, <code>max_user_watches &gt;= 65536</code> is recommended, and more can be helpful; the value of 524288 above is common on modern systems. One can set higher values as needed, e.g.,</p><pre><code class="nohighlight hljs">$ sudo sysctl fs.inotify.max_user_instances=2048</code></pre><p>After changing these values, it is advised to run Revise&#39;s unit tests to see if they pass.</p><p>This change can be made <a href="https://www.suse.com/de-de/support/kb/doc/?id=000020048">permanent</a>.</p><p>For more information see issues <a href="https://github.com/timholy/Revise.jl/issues/26">#26</a> and  <a href="https://github.com/timholy/Revise.jl/issues/778">#778</a>.</p><h3 id="Polling-and-NFS-mounted-code-directories:-JULIA_REVISE_POLL"><a class="docs-heading-anchor" href="#Polling-and-NFS-mounted-code-directories:-JULIA_REVISE_POLL">Polling and NFS-mounted code directories: JULIA_REVISE_POLL</a><a id="Polling-and-NFS-mounted-code-directories:-JULIA_REVISE_POLL-1"></a><a class="docs-heading-anchor-permalink" href="#Polling-and-NFS-mounted-code-directories:-JULIA_REVISE_POLL" title="Permalink"></a></h3><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>This applies only to Unix systems with code on network-mounted drives</p></div></div><p><code>Revise</code> works by monitoring your filesystem for changes to the files that define your code. On most operating systems, Revise can work &quot;passively&quot; and wait to be signaled that one or more watched directories has changed.</p><p>Unfortunately, a few file systems (notably, the Unix-based Network File System NFS) don&#39;t support this approach. In such cases, Revise needs to &quot;actively&quot; check each file periodically to see whether it has changed since the last check. This active process is called <a href="https://en.wikipedia.org/wiki/Polling_(computer_science)">polling</a>. You turn on polling by setting the environment variable <code>JULIA_REVISE_POLL</code> to the string <code>&quot;1&quot;</code> (e.g., <code>JULIA_REVISE_POLL=1</code> in a bash script).</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>If you&#39;re using polling, you may have to wait several seconds before changes take effect. Polling is <em>not</em> recommended unless you have no other alternative.</p></div></div><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>NFS stands for <a href="https://en.wikipedia.org/wiki/Network_File_System">Network File System</a> and is typically only used to mount shared network drives on <em>Unix</em> file systems. Despite similarities in the acronym, NTFS, the standard <a href="https://en.wikipedia.org/wiki/NTFS">filesystem on Windows</a>, is completely different from NFS; Revise&#39;s default configuration should work fine on Windows without polling. However, WSL2 users currently need polling due to <a href="https://github.com/JuliaLang/julia/issues/37029">this bug</a>.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../cookbook/">Revise usage: a cookbook »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.1 on <span class="colophon-date" title="Saturday 19 April 2025 07:54">Saturday 19 April 2025</span>. Using Julia version 1.11.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
