<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · Revise.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href><img src="assets/logo.svg" alt="Revise.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">Revise.jl</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Installation-1"><span>Installation</span></a></li><li><a class="tocitem" href="#Usage-example-1"><span>Usage example</span></a></li><li><a class="tocitem" href="#Other-key-features-of-Revise-1"><span>Other key features of Revise</span></a></li><li><a class="tocitem" href="#What-Revise-can-track-1"><span>What Revise can track</span></a></li><li><a class="tocitem" href="#Secrets-of-Revise-&quot;wizards&quot;-1"><span>Secrets of Revise &quot;wizards&quot;</span></a></li><li><a class="tocitem" href="#Other-Revise-workflows-1"><span>Other Revise workflows</span></a></li><li><a class="tocitem" href="#Taking-advantage-of-Revise-in-other-packages-1"><span>Taking advantage of Revise in other packages</span></a></li><li><a class="tocitem" href="#What-else-do-I-need-to-know?-1"><span>What else do I need to know?</span></a></li><li><a class="tocitem" href="#If-Revise-doesn&#39;t-work-as-expected-1"><span>If Revise doesn&#39;t work as expected</span></a></li></ul></li><li><a class="tocitem" href="config/">Configuration</a></li><li><a class="tocitem" href="cookbook/">Revise usage: a cookbook</a></li><li><a class="tocitem" href="limitations/">Limitations</a></li><li><a class="tocitem" href="debugging/">Debugging Revise</a></li><li><a class="tocitem" href="internals/">How Revise works</a></li><li><a class="tocitem" href="user_reference/">User reference</a></li><li><a class="tocitem" href="dev_reference/">Developer reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/timholy/Revise.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Introduction-to-Revise-1"><a class="docs-heading-anchor" href="#Introduction-to-Revise-1">Introduction to Revise</a><a class="docs-heading-anchor-permalink" href="#Introduction-to-Revise-1" title="Permalink"></a></h1><p><code>Revise.jl</code> may help you keep your Julia sessions running longer, reducing the need to restart when you make changes to code. With Revise, you can be in the middle of a session and then edit source code, update packages, switch git branches, and/or stash/unstash code; typically, the changes will be incorporated into the very next command you issue from the REPL. This can save you the overhead of restarting, loading packages, and waiting for code to JIT-compile.</p><p>Using Revise also improves your experience when using the <a href="https://julialang.org/blog/2019/03/debuggers/">debuggers</a>. Revise will keep track of changed locations of your methods in file, and ensure that the debugger displays the source code of what you&#39;re actually debugging.</p><div class="admonition is-info"><header class="admonition-header">Automatically loading Revise</header><div class="admonition-body"><p>Many users automatically load Revise on startup. On versions of Julia older than 1.5, this is slightly more involved than just adding <code>using Revise</code> to <code>.julia/config/startup.jl</code>: see <a href="config/#Using-Revise-by-default-1">Using Revise by default</a> for details.</p></div></div><h2 id="Installation-1"><a class="docs-heading-anchor" href="#Installation-1">Installation</a><a class="docs-heading-anchor-permalink" href="#Installation-1" title="Permalink"></a></h2><p>You can obtain Revise using Julia&#39;s Pkg REPL-mode (hitting <code>]</code> as the first character of the command prompt):</p><pre><code class="language-julia">(v1.0) pkg&gt; add Revise</code></pre><p>or with <code>using Pkg; Pkg.add(&quot;Revise&quot;)</code>.</p><h2 id="Usage-example-1"><a class="docs-heading-anchor" href="#Usage-example-1">Usage example</a><a class="docs-heading-anchor-permalink" href="#Usage-example-1" title="Permalink"></a></h2><p>We&#39;ll make changes to Julia&#39;s &quot;Example&quot; package (a trivial package designed to illustrate the file and directory organization of typical packages). We have to &quot;develop&quot; it in order to make changes:</p><pre><code class="language-julia">(v1.0) pkg&gt; dev Example
[...output related to installation...]
</code></pre><p>Now we load Revise (if we haven&#39;t already done so) and Example:</p><pre><code class="language-julia">julia&gt; using Revise        # importantly, this must come before `using Example`

julia&gt; using Example

julia&gt; hello(&quot;world&quot;)
&quot;Hello, world&quot;</code></pre><p>Now we&#39;re going to check that the <code>Example</code> module currently lacks a function named <code>f</code>:</p><pre><code class="language-julia">julia&gt; Example.f()
ERROR: UndefVarError: f not defined</code></pre><p>But say we really want <code>f</code>, so let&#39;s add it. You can either navigate to the source code (at <code>.julia/dev/Example/src/Example.jl</code>) in an editor manually, or you can use Julia to open it for you:</p><pre><code class="language-julia">julia&gt; edit(hello)   # opens Example.jl in the editor you have configured</code></pre><p>Now, add a function <code>f() = π</code> and save the file. Go back to the REPL (the <em>same</em> REPL, don&#39;t restart Julia) and try this:</p><pre><code class="language-julia">julia&gt; Example.f()
π = 3.1415926535897...</code></pre><p>Voila! Even though we&#39;d loaded Example before adding this function, Revise noticed the change and inserted it into our running session.</p><div class="admonition is-category-warn"><header class="admonition-header">Warn</header><div class="admonition-body"><p>Revise&#39;s first revision has latency of several seconds–it&#39;s compiling all of its internal code, which includes a complete <a href="https://github.com/JuliaDebug/JuliaInterpreter.jl">Julia interpreter</a> and all of Revise&#39;s parse/diff/patch/cache machinery. After your first revision, future revisions will generally be fast enough that they will seem nearly instantaneous. (There are exceptions, but they occur only in specific circumstances, for example when Revise&#39;s own code gets <a href="https://julialang.org/blog/2020/08/invalidations/">invalidated</a> by your changes.)</p></div></div><p>Now suppose we realize we&#39;ve made a horrible mistake: that <code>f</code> method will mess up everything, because it&#39;s part of a more complicated dispatch process and incorrectly intercepts certain <code>f</code> calls. No problem, just delete <code>f</code> in your editor, save the file, and you&#39;re back to this:</p><pre><code class="language-julia">julia&gt; Example.f()
ERROR: UndefVarError: f not defined</code></pre><p>all without restarting Julia. While you can evalued <em>new</em> methods without Revise using <a href="https://www.julia-vscode.org/docs/stable/userguide/runningcode/#Julia:-Execute-Code-Block-(AltEnter)-1">inline evaluation</a> through your IDE, method <em>deletion</em> is just one example of a change that can only be made easily by Revise.</p><p>If you need more examples, see <a href="cookbook/#Revise-usage:-a-cookbook-1">Revise usage: a cookbook</a>.</p><h2 id="Other-key-features-of-Revise-1"><a class="docs-heading-anchor" href="#Other-key-features-of-Revise-1">Other key features of Revise</a><a class="docs-heading-anchor-permalink" href="#Other-key-features-of-Revise-1" title="Permalink"></a></h2><p>Revise updates its internal paths when you change versions of a package. To try this yourself, first re-insert that definition of <code>f</code> in the <code>dev</code> version of <code>Example</code> and save the file. Now try toggling back and forth between the <code>dev</code> and released versions of <code>Example</code>:</p><pre><code class="language-julia">(v1.0) pkg&gt; free Example   # switch to the released version of Example

julia&gt; Example.f()
ERROR: UndefVarError: f not defined

(v1.0) pkg&gt; dev Example

julia&gt; Example.f()
π = 3.1415926535897...</code></pre><p>Revise is not tied to any particular editor. (The <a href="https://docs.julialang.org/en/v1/stdlib/InteractiveUtils/#InteractiveUtils.edit-Tuple{AbstractString,Integer}">EDITOR or JULIA_EDITOR</a> environment variables can be used to specify your preference for which editor gets launched by Julia&#39;s <code>edit</code> function.)</p><p>If you don&#39;t want to have to remember to say <code>using Revise</code> each time you start Julia, see <a href="config/#Using-Revise-by-default-1">Using Revise by default</a>.</p><h2 id="What-Revise-can-track-1"><a class="docs-heading-anchor" href="#What-Revise-can-track-1">What Revise can track</a><a class="docs-heading-anchor-permalink" href="#What-Revise-can-track-1" title="Permalink"></a></h2><p>Revise is fairly ambitious: if all is working, subject to a few <a href="limitations/#Limitations-1">Limitations</a> you should be able to track changes to</p><ul><li>any package that you load with <code>import</code> or <code>using</code></li><li>any script you load with <a href="user_reference/#Revise.includet"><code>includet</code></a> (see <a href="config/#Configuring-the-revise-mode-1">Configuring the revise mode</a> for important default restrictions on <code>includet</code>)</li><li>any file defining <code>Base</code> julia itself (with <code>Revise.track(Base)</code>)</li><li>any of Julia&#39;s standard libraries (with, e.g., <code>using Unicode; Revise.track(Unicode)</code>)</li><li>any file defining <code>Core.Compiler</code> (with <code>Revise.track(Core.Compiler)</code>)</li></ul><p>The last one requires that you clone Julia and build it yourself from source.</p><h2 id="Secrets-of-Revise-&quot;wizards&quot;-1"><a class="docs-heading-anchor" href="#Secrets-of-Revise-&quot;wizards&quot;-1">Secrets of Revise &quot;wizards&quot;</a><a class="docs-heading-anchor-permalink" href="#Secrets-of-Revise-&quot;wizards&quot;-1" title="Permalink"></a></h2><p>Revise can assist with methodologies like <a href="https://en.wikipedia.org/wiki/Test-driven_development">test-driven development</a>. While it&#39;s often desirable to write the test first, sometimes when fixing a bug it&#39;s very difficult to write a good test until you understand the bug better. Often that means basically fixing the bug before your write the test. With Revise, you can</p><ul><li>fix the bug while simultaneously developing a high-quality test</li><li>verify that your test passes with the fixed code</li><li><code>git stash</code> your fix and check that your new test fails on the old code, thus verifying that your test captures the essence of the former bug (if it doesn&#39;t fail, you need a better test!)</li><li><code>git stash pop</code>, test again, commit, and submit</li></ul><p>all without restarting your Julia session.</p><h2 id="Other-Revise-workflows-1"><a class="docs-heading-anchor" href="#Other-Revise-workflows-1">Other Revise workflows</a><a class="docs-heading-anchor-permalink" href="#Other-Revise-workflows-1" title="Permalink"></a></h2><p>Revise can be used to perform work when files update. For example, let&#39;s say you want to regenerate a set of web pages whenever your code changes. Suppose you&#39;ve placed your Julia code in a package called <code>MyWebCode</code>, and the pages depend on &quot;file.js&quot; and all files in the &quot;assets/&quot; directory; then</p><pre><code class="language-julia">entr([&quot;file.js&quot;, &quot;assets&quot;], [MyWebCode]) do
    build_webpages(args...)
end</code></pre><p>will execute <code>build_webpages(args...)</code> whenever you save updates to the listed files or <code>MyWebCode</code>.</p><p>If you want to regenerate the web page as soon as any change is detected, not only in <code>MyWebCode</code> but also in any package tracked by Revise, you can provide the <code>all</code> keyword argument to <a href="user_reference/#Revise.entr"><code>entr</code></a>:</p><pre><code class="language-julia">entr([&quot;file.js&quot;, &quot;assets&quot;]; all=true) do
    build_webpages(args...)
end</code></pre><h2 id="Taking-advantage-of-Revise-in-other-packages-1"><a class="docs-heading-anchor" href="#Taking-advantage-of-Revise-in-other-packages-1">Taking advantage of Revise in other packages</a><a class="docs-heading-anchor-permalink" href="#Taking-advantage-of-Revise-in-other-packages-1" title="Permalink"></a></h2><p>To make it easier for other packages to benefit from Revise without needing to add it as a dependency or understand Revise&#39;s internals, Revise interfaces with <a href="https://github.com/timholy/CodeTracking.jl">CodeTracking</a>, which is a small package acting as Revise&#39;s &quot;query&quot; interface.</p><h2 id="What-else-do-I-need-to-know?-1"><a class="docs-heading-anchor" href="#What-else-do-I-need-to-know?-1">What else do I need to know?</a><a class="docs-heading-anchor-permalink" href="#What-else-do-I-need-to-know?-1" title="Permalink"></a></h2><p>Except in cases of problems (see below), that&#39;s it! Revise is a tool that runs in the background, and when all is well it should be essentially invisible, except that you don&#39;t have to restart Julia so often.</p><p>Revise can also be used as a &quot;library&quot; by developers who want to add other new capabilities to Julia; the sections <a href="internals/#How-Revise-works-1">How Revise works</a> and <a href="dev_reference/#Developer-reference-1">Developer reference</a> are particularly relevant for them.</p><h2 id="If-Revise-doesn&#39;t-work-as-expected-1"><a class="docs-heading-anchor" href="#If-Revise-doesn&#39;t-work-as-expected-1">If Revise doesn&#39;t work as expected</a><a class="docs-heading-anchor-permalink" href="#If-Revise-doesn&#39;t-work-as-expected-1" title="Permalink"></a></h2><p>If Revise isn&#39;t working for you, here are some steps to try:</p><ul><li>See <a href="config/#Configuration-1">Configuration</a> for information on customization options. In particular, some file systems (like <a href="https://en.wikipedia.org/wiki/Network_File_System">NFS</a>) and current users of <a href="https://devblogs.microsoft.com/commandline/announcing-wsl-2/">WSL2</a> might require special options.</li><li>Revise can&#39;t handle all kinds of code changes; for more information, see the section on <a href="limitations/#Limitations-1">Limitations</a>.</li><li>Try running <code>test Revise</code> from the Pkg REPL-mode. If tests pass, check the documentation to make sure you understand how Revise should work. If they fail (especially if it mirrors functionality that you need and isn&#39;t working), see <a href="debugging/#Debugging-problems-with-paths-1">Debugging problems with paths</a> for one set of suggestions.</li></ul><p>If you still encounter problems, please <a href="https://github.com/timholy/Revise.jl/issues">file an issue</a>. Especially if you think Revise is making mistakes in adding or deleting methods, please see the page on <a href="debugging/#Debugging-Revise-1">Debugging Revise</a> for information about how to attach logs to your bug report.</p></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="config/">Configuration »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 18 November 2020 13:48">Wednesday 18 November 2020</span>. Using Julia version 1.0.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
